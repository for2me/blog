import{r as u}from"./index-117b49b1.js";const v=w=>{const r=u.useRef(new Map),o=u.useRef(new Map);return u.useEffect(()=>()=>{var a,c;for(let i of o.current.keys())(c=(a=r==null?void 0:r.current)==null?void 0:a.get(i))==null||c.abort()},[]),[u.useMemo(()=>{const a=t=>{var s;return(s=Object==null?void 0:Object.keys(t))==null?void 0:s.reduce((e,n)=>e+`${n}=${t[n]}`,"")},c=(t,s)=>t.includes("?")?t+"&"+s:t+"?"+s,i=(t,s)=>{const e=s||t;r.current.has(e)||r.current.set(e,new AbortController);const n=r.current.get(e);return o.current.get(e)&&(n==null||n.abort(),r.current.set(e,new AbortController)),o.current.set(e,!0),r.current.get(e)};return{get:(t,s={})=>new Promise(e=>{var g,b;const{data:n={},type:m="json",signal:y,headers:f}=s,p=a(n),l=p?c(t,p):t,d=i(t,y);return(b=(g=fetch(l,{signal:d.signal,headers:f}))==null?void 0:g.then(h=>h[m]()))==null?void 0:b.then(h=>{o.current.delete(t),e({success:!0,data:h})}).catch(h=>{o.current.delete(t),e({success:!1,data:null})})}),post:()=>{}}},[])]},x={analysis:"https://46yun.free1.asia/",weibo:"https://weibo.com/ajax/statuses/hot_band",holiday:"https://cdn.jsdelivr.net/gh/for2me/holiday-cn@master/$var.json",themes:"https://raw.githubusercontent.com/forzys/dataset/main/themes/$type/$var.json",archive:"https://github.moeyy.xyz/https://raw.githubusercontent.com/forzys/blog/main/archive/$blog.md",blogs:"https://github.moeyy.xyz/https://raw.githubusercontent.com/forzys/blog/main/archive/$blog.json"};export{x as a,v as u};
