import{r as _,u as c,j as d,a as n,S as N}from"./index-04e27147.js";import{u as P}from"./useUpdate-102355c8.js";import{u as v,a as x}from"./apis-158592c5.js";import{T as C}from"./index-2abd49cb.js";import{S}from"./index-e007ac34.js";import{P as T}from"./index-3fd766a3.js";const j="_segment_1tywt_2",F="_footer_1tywt_3",U="_themes_1tywt_27",k="_theme_1tywt_27",z="_item_1tywt_46",E="_usefull_1tywt_70",$="_color3_1tywt_97",M="_color2_1tywt_100",q="_color1_1tywt_103",A="_color0_1tywt_106",a={segment:j,footer:F,themes:U,theme:k,item:z,"delay-place":"_delay-place_1tywt_1",usefull:E,color3:$,color2:M,color1:q,color0:A,"delay-item":"_delay-item_1tywt_1"},O=_.memo(B=>{var u;const[h]=v(),[s,m,{navigate:D}]=P({type:"new",page:0,loading:!0});_.useEffect(()=>{i(s.type,s.page)},[]);function i(e,o){return new Promise(t=>{var r;if(Number(o)<0)return t(!1);const l=e+"_"+o,p=(r=x.themes.replace("$type",e))==null?void 0:r.replace("$var",l);h.get(p,{signal:"theme"}).then(b=>{m({themes:b.data,loading:!1}),t(!0)})})}const y=c(e=>{const o=[];let t=0;for(;t<4;)o.push("#"+e.substring(t*6,t*6+6)),t++;return o}),g=c(e=>{m({loading:!0,page:Number(e)-1}),i(s.type,Number(e)-1)}),f=c(e=>{m({loading:!0,type:e,page:0}),i(e,0)}),w=c(e=>{const o=document.body,[t,l,p,r]=e;o.style.setProperty("--bg-0",t),o.style.setProperty("--bg-30",l),o.style.setProperty("--bg-60",p),o.style.setProperty("--bg-100",r)});return d("div",{className:"main",children:[n(S,{fontSize:"0.5rem",onChange:f,options:[{label:"New",value:"new"},{label:"Popular",value:"popular"}],className:a.segment}),n(N,{loading:s==null?void 0:s.loading,style:{flex:1},children:n("div",{className:a.themes,children:(u=s==null?void 0:s.themes)==null?void 0:u.map(e=>{const o=y(e.code);return d("div",{className:a.theme,children:[o.map((t,l)=>n("div",{className:a.item+" "+a["color"+l],style:{background:t,"--color":t},children:n("span",{children:t})},t)),n(C,{label:"再次点击切换顺序",children:n("span",{className:a.usefull,onClick:w.bind(null,o),children:"Use"})})]},e.code)})})}),n("div",{className:a.footer,children:n(T,{total:13,page:Number(s.page)+1,onChange:g})})]})});export{O as default};
