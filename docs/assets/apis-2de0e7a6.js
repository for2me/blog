import{r as u}from"./index-59ce04dc.js";const $=y=>{const n=u.useRef(new Map),o=u.useRef(new Map);return u.useEffect(()=>()=>{var a,c;for(let i of o.current.keys())(c=(a=n==null?void 0:n.current)==null?void 0:a.get(i))==null||c.abort()},[]),[u.useMemo(()=>{const a=t=>{var s;return(s=Object==null?void 0:Object.keys(t))==null?void 0:s.reduce((e,r)=>e+`${r}=${t[r]}`,"")},c=(t,s)=>t.includes("?")?t+"&"+s:t+"?"+s,i=(t,s)=>{const e=s||t;n.current.has(e)||n.current.set(e,new AbortController);const r=n.current.get(e);return o.current.get(e)&&(r==null||r.abort(),n.current.set(e,new AbortController)),o.current.set(e,!0),n.current.get(e)};return{get:(t,s={})=>new Promise(e=>{var g,l;const{data:r={},type:d="json",signal:f,headers:m}=s,p=a(r),b=p?c(t,p):t,j=i(t,f);return(l=(g=fetch(b,{signal:j.signal,headers:m}))==null?void 0:g.then(h=>h[d]()))==null?void 0:l.then(h=>{o.current.delete(t),e({success:!0,data:h})}).catch(h=>{o.current.delete(t),e({success:!1,data:null})})}),post:()=>{}}},[])]},k={analysis:"https://46yun.free1.asia/",weibo:"https://weibo.com/ajax/statuses/hot_band",holiday:"https://cdn.jsdelivr.net/gh/for2me/holiday-cn@master/$var.json",themes:"https://raw.githubusercontent.com/for2me/dataset/main/themes/$type/$var.json",archive:"https://cdn.jsdelivr.net/gh/for2me/blog@main/archive/$blog",blogs:"https://cdn.jsdelivr.net/gh/for2me/blog@main/archive/$blog.json"};export{k as a,$ as u};
